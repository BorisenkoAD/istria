<?php
abstract class ACore {
	protected $db;
	
	public function __construct (){
		$this->db = new PDO('mysql:host=192.168.137.105; dbname=db1063074_vacansy', 'u1063074_admin', 'TiEtIFnW1MwY)2)X', array(
		PDO::ATTR_PERSISTENT => true));
		$this->db->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
		$this->db->query("SET NAMES 'utf8'");
	}
	
	private function get_header() {
		echo <<<LABEL
	<!DOCTYPE html>
	<html>
	<head>
	<meta charset="utf-8" />
	<link rel="shortcut icon" href="favicon.png" type="image/png">
	<link rel="stylesheet" type="text/css" href="css/slide.css" />
	<link rel="stylesheet" type="text/css" href="css/style.css" />
	<title>ООО Истрия. Мы управляем бизнесом!</title>
	<meta name="description" content="Компания ИСТРИЯ предлагает молодым амбициозным людям раскрыть в себе таланты лидера и управленца. Смотри вакансии, пиши, звони!"/>
	</head>
	<body>
	<div id="wrapper">
	<header>
	<div id="top_line"></div> <!--top_line-->
		<div id="logo">
			<a name="top"></a><a href="/"><img src="img/logo.jpg" alt="logo" /></a>
		</div><!--logo-->	
LABEL;
	}
	
	 protected function get_blueLine() {
		
	}
	
	private function get_nav() {
		echo <<<LABEL
		<nav>
		<ul>	
LABEL;

	$stmt = $this->db->prepare('SELECT * FROM menu WHERE parent_id=0');
	$stmt->execute();
	while($menu = $stmt->fetch(PDO::FETCH_ASSOC))
{
		echo '<li><a href="?option='.$menu["path"].'">'.$menu["title"].'</a>';
}
		echo <<<LABEL
			</ul>
		</nav><!--nav-->	
		</header><!--header-->	
LABEL;
	}
	
	 protected function get_slider() {	
	}

	private function get_block() {
	echo '<div id="content">
		<div id="company">	';
	}

	 protected function get_content() {		
	}
	
	private function get_footer() {
	echo <<<LABEL
	<div id="up">
		<a href="#top"><img src="img/up.png" alt="UP!"/></a>
	</div><!--up -->	
LABEL;
	}
	
	private function get_footer_nav() {
	echo <<<LABEL
			<div id="footer_navigation">
					<ul>	
LABEL;
	$stmt = $this->db->prepare('SELECT * FROM menu WHERE parent_id=0');
	$stmt->execute();
	while($menu = $stmt->fetch(PDO::FETCH_ASSOC))
{
		echo '<li><a href="?option='.$menu["path"].'">'.$menu["title"].'</a>';
}
	
	echo <<<LABEL
					</ul>
			</div><!--footer_navigation-->
		</footer> <!--footer -->
	</div><!--end wrapper-->
</body>
</html>	
LABEL;
	}
	public function get_body() {
	$this->get_header();
	$this->get_nav();
	$this->get_slider ();
	$this->get_block();
	$this->get_content();
	$this->get_footer();
	$this->get_footer_nav(); 
	}
	
}
?>